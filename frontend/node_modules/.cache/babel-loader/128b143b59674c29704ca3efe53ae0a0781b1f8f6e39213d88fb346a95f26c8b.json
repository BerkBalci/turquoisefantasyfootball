{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\TurquoiseFantasyFootball\\\\frontend\\\\src\\\\components\\\\TeamBuilder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Alert from './Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeamBuilder = () => {\n  _s();\n  const [activeMatchweek, setActiveMatchweek] = useState(null);\n  const [allMatchweeks, setAllMatchweeks] = useState([]);\n  const [selectedMatchweek, setSelectedMatchweek] = useState(null);\n  const [userTeam, setUserTeam] = useState(null);\n  const [formation, setFormation] = useState('4-4-2');\n  const [teamName, setTeamName] = useState('');\n  const [showPlayerModal, setShowPlayerModal] = useState(false);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [teams, setTeams] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedTeam, setSelectedTeam] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [isViewMode, setIsViewMode] = useState(false);\n  const [weeklyScores, setWeeklyScores] = useState(null);\n  const [playerScores, setPlayerScores] = useState([]);\n  const [alert, setAlert] = useState({\n    isOpen: false,\n    type: 'warning',\n    title: '',\n    message: '',\n    secondaryMessage: ''\n  });\n  const [teamPlayerLimit, setTeamPlayerLimit] = useState(3);\n  const formations = {\n    '4-4-2': {\n      defenders: 4,\n      midfielders: 4,\n      forwards: 2\n    },\n    '4-5-1': {\n      defenders: 4,\n      midfielders: 5,\n      forwards: 1\n    },\n    '4-3-3': {\n      defenders: 4,\n      midfielders: 3,\n      forwards: 3\n    },\n    '5-3-2': {\n      defenders: 5,\n      midfielders: 3,\n      forwards: 2\n    },\n    '5-4-1': {\n      defenders: 5,\n      midfielders: 4,\n      forwards: 1\n    },\n    '3-4-3': {\n      defenders: 3,\n      midfielders: 4,\n      forwards: 3\n    },\n    '3-5-2': {\n      defenders: 3,\n      midfielders: 5,\n      forwards: 2\n    }\n  };\n  const positionMap = {\n    '4-4-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1', 'FWD2'],\n    '4-5-1': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'MID4', 'MID5', 'FWD1'],\n    '4-3-3': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'FWD1', 'FWD2', 'FWD3'],\n    '5-3-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'DEF5', 'MID1', 'MID2', 'MID3', 'FWD1', 'FWD2'],\n    '5-4-1': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'DEF5', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1'],\n    '3-4-3': ['GK', 'DEF1', 'DEF2', 'DEF3', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1', 'FWD2', 'FWD3'],\n    '3-5-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'MID1', 'MID2', 'MID3', 'MID4', 'MID5', 'FWD1', 'FWD2']\n  };\n  useEffect(() => {\n    fetchActiveMatchweek();\n    fetchAllMatchweeks();\n    fetchTeams();\n    fetchTeamPlayerLimit();\n  }, []);\n  useEffect(() => {\n    if (selectedMatchweek) {\n      fetchUserTeam();\n      // Update view mode based on whether selected matchweek is active\n      setIsViewMode(selectedMatchweek.id !== (activeMatchweek === null || activeMatchweek === void 0 ? void 0 : activeMatchweek.id));\n    } else {\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  }, [selectedMatchweek, activeMatchweek]);\n  const fetchActiveMatchweek = async () => {\n    try {\n      const response = await axios.get('/api/matchweeks/active');\n      setActiveMatchweek(response.data);\n      if (response.data) {\n        setSelectedMatchweek(response.data);\n        // View mode will be set automatically by useEffect\n      }\n    } catch (error) {\n      console.error('Error fetching active matchweek:', error);\n    }\n  };\n  const fetchAllMatchweeks = async () => {\n    try {\n      const response = await axios.get('/api/matchweeks');\n      setAllMatchweeks(response.data);\n\n      // If no selected matchweek, select the first one\n      if (response.data.length > 0 && !selectedMatchweek) {\n        setSelectedMatchweek(response.data[0]);\n        // View mode will be set automatically by useEffect\n      }\n    } catch (error) {\n      console.error('Error fetching all matchweeks:', error);\n    }\n  };\n  const fetchTeams = async () => {\n    try {\n      const response = await axios.get('/api/teams');\n      setTeams(response.data);\n    } catch (error) {\n      console.error('Error fetching teams:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchTeamPlayerLimit = async () => {\n    try {\n      const response = await axios.get('/api/scoring-system/team-limit');\n      setTeamPlayerLimit(response.data.team_player_limit);\n    } catch (error) {\n      console.error('Error fetching team player limit:', error);\n      // Set default value if API fails\n      setTeamPlayerLimit(3);\n    }\n  };\n  const fetchUserTeam = async () => {\n    if (!selectedMatchweek) {\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n      return;\n    }\n    try {\n      const response = await axios.get(`/api/user-teams/${selectedMatchweek.id}`);\n      if (response.data) {\n        setUserTeam(response.data);\n        setFormation(response.data.formation);\n        setTeamName(response.data.team_name || '');\n\n        // Fetch weekly scores if team exists and matchweek is not active\n        if (response.data.id && !selectedMatchweek.is_active) {\n          fetchWeeklyScores(response.data.id);\n        } else {\n          setWeeklyScores(null);\n          setPlayerScores([]);\n        }\n      } else {\n        setUserTeam(null);\n        setFormation('4-4-2');\n        setTeamName('');\n        setWeeklyScores(null);\n        setPlayerScores([]);\n      }\n    } catch (error) {\n      console.error('Error fetching user team:', error);\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  };\n  const fetchWeeklyScores = async teamId => {\n    if (!selectedMatchweek) {\n      setWeeklyScores(null);\n      setPlayerScores([]);\n      return;\n    }\n    try {\n      const response = await axios.get(`/api/user-teams/${teamId}/weekly-scores/${selectedMatchweek.id}`);\n      setWeeklyScores(response.data.teamScore);\n      setPlayerScores(response.data.playerScores);\n    } catch (error) {\n      console.error('Error fetching weekly scores:', error);\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  };\n  const fetchPlayers = async () => {\n    if (!selectedMatchweek) return;\n    try {\n      let url = '/api/players';\n      const params = new URLSearchParams();\n      if (searchTerm && searchTerm.trim()) {\n        params.append('search', searchTerm.trim());\n      }\n      if (selectedTeam) {\n        params.append('team', selectedTeam);\n      }\n      if (params.toString()) {\n        url += `?${params.toString()}`;\n      }\n      const response = await axios.get(url);\n\n      // Filter players based on position and already selected players\n      let filteredPlayers = response.data;\n\n      // Filter by position\n      if (selectedPosition) {\n        const positionType = selectedPosition.startsWith('GK') ? 'Kaleci' : selectedPosition.startsWith('DEF') ? 'Defans' : selectedPosition.startsWith('MID') ? 'Orta Saha' : 'Forvet';\n        filteredPlayers = filteredPlayers.filter(player => player.position === positionType);\n      }\n\n      // Filter out already selected players\n      const selectedPlayerIds = Object.values((userTeam === null || userTeam === void 0 ? void 0 : userTeam.players) || {}).map(p => p.id);\n      filteredPlayers = filteredPlayers.filter(player => !selectedPlayerIds.includes(player.id));\n      setPlayers(filteredPlayers);\n    } catch (error) {\n      console.error('Error fetching players:', error);\n    }\n  };\n\n  // Debounced search effect\n  useEffect(() => {\n    if (showPlayerModal && selectedMatchweek) {\n      const timeoutId = setTimeout(() => {\n        fetchPlayers();\n      }, searchTerm ? 300 : 0); // Debounce only when searching\n      return () => clearTimeout(timeoutId);\n    }\n  }, [showPlayerModal, searchTerm, selectedTeam, selectedPosition, userTeam, selectedMatchweek]);\n  const handleMatchweekChange = matchweekId => {\n    const matchweek = allMatchweeks.find(mw => mw.id === parseInt(matchweekId));\n    if (matchweek) {\n      setSelectedMatchweek(matchweek);\n      // View mode will be set automatically by useEffect\n    }\n  };\n  const handleFormationChange = newFormation => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n    setFormation(newFormation);\n    if (userTeam) {\n      // Clear players that don't fit in new formation\n      const newPositions = positionMap[newFormation];\n      const updatedPlayers = {\n        ...userTeam.players\n      };\n      Object.keys(updatedPlayers).forEach(position => {\n        if (!newPositions.includes(position)) {\n          delete updatedPlayers[position];\n        }\n      });\n      setUserTeam(prev => ({\n        ...prev,\n        formation: newFormation,\n        players: updatedPlayers\n      }));\n    }\n  };\n  const handlePositionClick = position => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n    setSelectedPosition(position);\n    setShowPlayerModal(true);\n  };\n  const handlePlayerSelect = async player => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n    try {\n      // Check if player is already selected in another position\n      const isPlayerAlreadySelected = Object.values((userTeam === null || userTeam === void 0 ? void 0 : userTeam.players) || {}).some(selectedPlayer => selectedPlayer.id === player.id);\n      if (isPlayerAlreadySelected) {\n        setAlert({\n          isOpen: true,\n          type: 'warning',\n          title: 'Oyuncu Zaten SeÃ§ili',\n          message: 'Bu oyuncu zaten takÄ±mÄ±nÄ±zda seÃ§ili!',\n          secondaryMessage: 'AynÄ± oyuncuyu birden fazla pozisyonda kullanamazsÄ±nÄ±z.'\n        });\n        return;\n      }\n\n      // Check team player limit\n      const playersFromSameTeam = Object.values((userTeam === null || userTeam === void 0 ? void 0 : userTeam.players) || {}).filter(selectedPlayer => selectedPlayer.team_id === player.team_id);\n      if (playersFromSameTeam.length >= teamPlayerLimit) {\n        setAlert({\n          isOpen: true,\n          type: 'warning',\n          title: 'TakÄ±m Limiti AÅŸÄ±ldÄ±',\n          message: `Bu takÄ±mdan en fazla ${teamPlayerLimit} oyuncu seÃ§ebilirsiniz!`,\n          secondaryMessage: `Åžu anda ${playersFromSameTeam.length} oyuncu seÃ§ili.`\n        });\n        return;\n      }\n\n      // Check position compatibility\n      const positionType = selectedPosition.startsWith('GK') ? 'Kaleci' : selectedPosition.startsWith('DEF') ? 'Defans' : selectedPosition.startsWith('MID') ? 'Orta Saha' : 'Forvet';\n      if (player.position !== positionType) {\n        setAlert({\n          isOpen: true,\n          type: 'error',\n          title: 'Pozisyon UyumsuzluÄŸu',\n          message: `${positionType} pozisyonu iÃ§in ${player.position} oyuncusu seÃ§ilemez!`,\n          secondaryMessage: 'LÃ¼tfen doÄŸru pozisyon iÃ§in uygun oyuncu seÃ§in.'\n        });\n        return;\n      }\n      if (userTeam && userTeam.id) {\n        // Update existing team\n        await axios.put(`/api/user-teams/${userTeam.id}/players`, {\n          position: selectedPosition,\n          playerId: player.id\n        });\n\n        // Update local state\n        setUserTeam(prev => ({\n          ...prev,\n          players: {\n            ...(prev === null || prev === void 0 ? void 0 : prev.players),\n            [selectedPosition]: player\n          }\n        }));\n      } else {\n        // Create new team\n        const response = await axios.post('/api/user-teams', {\n          matchweekId: selectedMatchweek.id,\n          formation: formation,\n          teamName: teamName || 'TakÄ±mÄ±m',\n          position: selectedPosition,\n          playerId: player.id\n        });\n\n        // Update local state with the new team data\n        setUserTeam({\n          ...response.data,\n          players: {\n            ...response.data.players,\n            [selectedPosition]: player\n          }\n        });\n      }\n      setShowPlayerModal(false);\n      setSelectedPosition(null);\n    } catch (error) {\n      console.error('Error selecting player:', error);\n      setAlert({\n        isOpen: true,\n        type: 'error',\n        title: 'Hata',\n        message: 'Oyuncu seÃ§ilirken hata oluÅŸtu',\n        secondaryMessage: 'LÃ¼tfen tekrar deneyin veya sayfayÄ± yenileyin.'\n      });\n    }\n  };\n  const handleSaveTeam = async () => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n    try {\n      if (userTeam && userTeam.id) {\n        await axios.put(`/api/user-teams/${userTeam.id}`, {\n          teamName: teamName,\n          formation: formation\n        });\n      } else {\n        const response = await axios.post('/api/user-teams', {\n          matchweekId: selectedMatchweek.id,\n          formation: formation,\n          teamName: teamName || 'TakÄ±mÄ±m'\n        });\n        setUserTeam({\n          id: response.data.teamId,\n          formation,\n          team_name: teamName || 'TakÄ±mÄ±m',\n          players: {}\n        });\n      }\n      setAlert({\n        isOpen: true,\n        type: 'success',\n        title: 'BaÅŸarÄ±lÄ±',\n        message: 'TakÄ±m baÅŸarÄ±yla kaydedildi',\n        secondaryMessage: 'TakÄ±mÄ±nÄ±z gÃ¼ncellenmiÅŸtir.'\n      });\n    } catch (error) {\n      console.error('Error saving team:', error);\n      setAlert({\n        isOpen: true,\n        type: 'error',\n        title: 'Hata',\n        message: 'TakÄ±m kaydedilirken hata oluÅŸtu',\n        secondaryMessage: 'LÃ¼tfen tekrar deneyin veya sayfayÄ± yenileyin.'\n      });\n    }\n  };\n  const getPositionIcon = position => {\n    if (position.startsWith('GK')) return 'ðŸ¥…';\n    if (position.startsWith('DEF')) return 'ðŸ›¡ï¸';\n    if (position.startsWith('MID')) return 'âš½';\n    if (position.startsWith('FWD')) return 'ðŸŽ¯';\n    return 'ðŸ‘¤';\n  };\n  const getPositionName = position => {\n    if (position.startsWith('GK')) return 'Kaleci';\n    if (position.startsWith('DEF')) return 'Defans';\n    if (position.startsWith('MID')) return 'Orta Saha';\n    if (position.startsWith('FWD')) return 'Forvet';\n    return position;\n  };\n  const getPlayerScore = playerId => {\n    const playerScore = playerScores.find(ps => ps.id === playerId);\n    const score = playerScore ? parseFloat(playerScore.total_points) : 0;\n    return isNaN(score) ? 0 : score;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Y\\xFCkleniyor...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 12\n    }, this);\n  }\n  if (!activeMatchweek && allMatchweeks.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-active-matchweek\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ma\\xE7 Haftas\\u0131 Bulunamad\\u0131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Hen\\xFCz hi\\xE7 ma\\xE7 haftas\\u0131 olu\\u015Fturulmam\\u0131\\u015F. L\\xFCtfen admin panelinden bir ma\\xE7 haftas\\u0131 olu\\u015Fturun.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this);\n  }\n  if (!activeMatchweek && allMatchweeks.length > 0 && !selectedMatchweek) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-active-matchweek\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Aktif Ma\\xE7 Haftas\\u0131 Yok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u015Eu anda aktif bir ma\\xE7 haftas\\u0131 bulunmuyor. Ancak ge\\xE7mi\\u015F haftalar\\u0131 g\\xF6r\\xFCnt\\xFCleyebilirsiniz.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"matchweek-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Hafta Se\\xE7in:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: (selectedMatchweek === null || selectedMatchweek === void 0 ? void 0 : selectedMatchweek.id) || '',\n          onChange: e => handleMatchweekChange(e.target.value),\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Hafta Se\\xE7in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), allMatchweeks.map(week => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: week.id,\n            children: [week.name, \" \", week.is_active ? '(Aktif)' : '']\n          }, week.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"team-builder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"team-builder-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tak\\u0131m Kurma\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"team-builder-subtitle\",\n        children: activeMatchweek ? `Aktif hafta: ${activeMatchweek.name}` : \"Aktif maÃ§ haftasÄ± yok. GeÃ§miÅŸ haftalarÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"matchweek-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Hafta Se\\xE7imi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: (selectedMatchweek === null || selectedMatchweek === void 0 ? void 0 : selectedMatchweek.id) || '',\n          onChange: e => handleMatchweekChange(e.target.value),\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Hafta Se\\xE7in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 11\n          }, this), allMatchweeks.map(week => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: week.id,\n            children: [week.name, \" \", week.is_active ? '(Aktif)' : '']\n          }, week.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 9\n        }, this), !activeMatchweek && selectedMatchweek && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-active-week-warning\",\n          children: \"\\u015Eu anda aktif hafta yok \\u2014 sadece g\\xF6r\\xFCnt\\xFCleme modu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 7\n      }, this), !isViewMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"team-name-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: teamName,\n          onChange: e => setTeamName(e.target.value),\n          placeholder: \"Tak\\u0131m ad\\u0131 girin\",\n          disabled: !activeMatchweek\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this), isViewMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-mode-warning\",\n        children: \"Sadece G\\xF6r\\xFCnt\\xFCleme Modu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formation-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Taktik Se\\xE7imi :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formation-options\",\n        children: Object.keys(formations).map(form => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `formation-btn ${formation === form ? 'active' : ''} ${isViewMode ? 'disabled' : ''}`,\n          onClick: () => handleFormationChange(form),\n          disabled: isViewMode,\n          children: form\n        }, form, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"football-field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-positions\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-position-group goalkeeper\",\n            children: positionMap[formation].filter(pos => pos.startsWith('GK')).map((position, index) => {\n              var _userTeam$players, _userTeam$players2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `field-position ${position} ${userTeam !== null && userTeam !== void 0 && (_userTeam$players = userTeam.players) !== null && _userTeam$players !== void 0 && _userTeam$players[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`,\n                onClick: () => handlePositionClick(position),\n                children: userTeam !== null && userTeam !== void 0 && (_userTeam$players2 = userTeam.players) !== null && _userTeam$players2 !== void 0 && _userTeam$players2[position] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"sports\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-name\",\n                      children: [userTeam.players[position].first_name, \" \", userTeam.players[position].last_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 628,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-team\",\n                      children: userTeam.players[position].team_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 631,\n                      columnNumber: 25\n                    }, this), weeklyScores && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-score\",\n                      children: [getPlayerScore(userTeam.players[position].id).toFixed(1), \" puan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 627,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"sports\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 641,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"position-label\",\n                    children: \"Kaleci\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this)\n              }, position, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-position-group defenders\",\n            children: positionMap[formation].filter(pos => pos.startsWith('DEF')).map((position, index) => {\n              var _userTeam$players3, _userTeam$players4;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `field-position ${position} ${userTeam !== null && userTeam !== void 0 && (_userTeam$players3 = userTeam.players) !== null && _userTeam$players3 !== void 0 && _userTeam$players3[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`,\n                onClick: () => handlePositionClick(position),\n                children: userTeam !== null && userTeam !== void 0 && (_userTeam$players4 = userTeam.players) !== null && _userTeam$players4 !== void 0 && _userTeam$players4[position] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"shield\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-name\",\n                      children: [userTeam.players[position].first_name, \" \", userTeam.players[position].last_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 661,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-team\",\n                      children: userTeam.players[position].team_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 664,\n                      columnNumber: 25\n                    }, this), weeklyScores && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-score\",\n                      children: [getPlayerScore(userTeam.players[position].id).toFixed(1), \" puan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"shield\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"position-label\",\n                    children: \"Defans\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 675,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 21\n                }, this)\n              }, position, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-position-group midfielders\",\n            children: positionMap[formation].filter(pos => pos.startsWith('MID')).map((position, index) => {\n              var _userTeam$players5, _userTeam$players6;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `field-position ${position} ${userTeam !== null && userTeam !== void 0 && (_userTeam$players5 = userTeam.players) !== null && _userTeam$players5 !== void 0 && _userTeam$players5[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`,\n                onClick: () => handlePositionClick(position),\n                children: userTeam !== null && userTeam !== void 0 && (_userTeam$players6 = userTeam.players) !== null && _userTeam$players6 !== void 0 && _userTeam$players6[position] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"groups\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 692,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-name\",\n                      children: [userTeam.players[position].first_name, \" \", userTeam.players[position].last_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 694,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-team\",\n                      children: userTeam.players[position].team_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 697,\n                      columnNumber: 25\n                    }, this), weeklyScores && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-score\",\n                      children: [getPlayerScore(userTeam.players[position].id).toFixed(1), \" puan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 699,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"groups\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"position-label\",\n                    children: \"Orta Saha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 708,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 21\n                }, this)\n              }, position, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-position-group forwards\",\n            children: positionMap[formation].filter(pos => pos.startsWith('FWD')).map((position, index) => {\n              var _userTeam$players7, _userTeam$players8;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `field-position ${position} ${userTeam !== null && userTeam !== void 0 && (_userTeam$players7 = userTeam.players) !== null && _userTeam$players7 !== void 0 && _userTeam$players7[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`,\n                onClick: () => handlePositionClick(position),\n                children: userTeam !== null && userTeam !== void 0 && (_userTeam$players8 = userTeam.players) !== null && _userTeam$players8 !== void 0 && _userTeam$players8[position] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"directions_run\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-name\",\n                      children: [userTeam.players[position].first_name, \" \", userTeam.players[position].last_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 727,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-team\",\n                      children: userTeam.players[position].team_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 23\n                    }, this), weeklyScores && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"player-score\",\n                      children: [getPlayerScore(userTeam.players[position].id).toFixed(1), \" puan\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 732,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 19\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"material-icons\",\n                    children: \"directions_run\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"position-label\",\n                    children: \"Forvet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 741,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 21\n                }, this)\n              }, position, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 15\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this), weeklyScores && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weekly-score-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Haftal\\u0131k Puan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total-score\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-value\",\n            children: parseFloat(weeklyScores.total_points || 0).toFixed(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-label\",\n            children: \"puan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Hesaplanma Tarihi:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: new Date(weeklyScores.calculated_at).toLocaleDateString('tr-TR')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"team-actions\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-primary ${isViewMode ? 'disabled' : ''}`,\n        onClick: handleSaveTeam,\n        disabled: isViewMode,\n        children: isViewMode ? 'Sadece GÃ¶rÃ¼ntÃ¼leme Modu' : 'TakÄ±mÄ± Kaydet'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 7\n    }, this), showPlayerModal && /*#__PURE__*/_jsxDEV(PlayerSelectionModal, {\n      onClose: () => {\n        setShowPlayerModal(false);\n        setSelectedPosition(null);\n        setSearchTerm('');\n        setSelectedTeam('');\n      },\n      onSelectPlayer: handlePlayerSelect,\n      players: players,\n      teams: teams,\n      searchTerm: searchTerm,\n      setSearchTerm: setSearchTerm,\n      selectedTeam: selectedTeam,\n      setSelectedTeam: setSelectedTeam,\n      selectedPosition: selectedPosition,\n      getPositionName: getPositionName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      isOpen: alert.isOpen,\n      onClose: () => setAlert({\n        ...alert,\n        isOpen: false\n      }),\n      type: alert.type,\n      title: alert.title,\n      message: alert.message,\n      secondaryMessage: alert.secondaryMessage,\n      confirmText: \"Tamam\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 798,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 543,\n    columnNumber: 5\n  }, this);\n};\n\n// Player Selection Modal Component\n_s(TeamBuilder, \"rGO42DUMxtmR0bGTZK60WSsFuQg=\");\n_c = TeamBuilder;\nconst PlayerSelectionModal = ({\n  onClose,\n  onSelectPlayer,\n  players,\n  teams,\n  searchTerm,\n  setSearchTerm,\n  selectedTeam,\n  setSelectedTeam,\n  selectedPosition,\n  getPositionName\n}) => {\n  const getPositionIcon = position => {\n    if (position === 'Kaleci') return 'sports';\n    if (position === 'Defans') return 'shield';\n    if (position === 'Orta Saha') return 'groups';\n    if (position === 'Forvet') return 'directions_run';\n    return 'person';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-selection-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Oyuncu Se\\xE7 - \", selectedPosition ? getPositionName(selectedPosition) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-icons\",\n            children: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-icons\",\n            children: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Oyuncu ad\\u0131 ara...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"team-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedTeam,\n            onChange: e => setSelectedTeam(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"T\\xFCm Tak\\u0131mlar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this), teams.map(team => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: team.id,\n              children: team.name\n            }, team.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-icons\",\n            children: \"expand_more\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"players-list\",\n        children: players.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-players\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Bu pozisyon i\\xE7in uygun oyuncu bulunamad\\u0131.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Se\\xE7ilmi\\u015F oyuncular ve yanl\\u0131\\u015F pozisyon oyuncular\\u0131 filtrelenmi\\u015Ftir.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this) : players.map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item\",\n          onClick: () => onSelectPlayer(player),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-icons\",\n            children: getPositionIcon(player.position)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-name\",\n              children: [player.first_name, \" \", player.last_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-details\",\n              children: [player.team_name, \" - \", player.position]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 17\n          }, this)]\n        }, player.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 875,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 867,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 833,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PlayerSelectionModal;\nexport default TeamBuilder;\nvar _c, _c2;\n$RefreshReg$(_c, \"TeamBuilder\");\n$RefreshReg$(_c2, \"PlayerSelectionModal\");","map":{"version":3,"names":["React","useState","useEffect","axios","Alert","jsxDEV","_jsxDEV","TeamBuilder","_s","activeMatchweek","setActiveMatchweek","allMatchweeks","setAllMatchweeks","selectedMatchweek","setSelectedMatchweek","userTeam","setUserTeam","formation","setFormation","teamName","setTeamName","showPlayerModal","setShowPlayerModal","selectedPosition","setSelectedPosition","players","setPlayers","teams","setTeams","searchTerm","setSearchTerm","selectedTeam","setSelectedTeam","loading","setLoading","isViewMode","setIsViewMode","weeklyScores","setWeeklyScores","playerScores","setPlayerScores","alert","setAlert","isOpen","type","title","message","secondaryMessage","teamPlayerLimit","setTeamPlayerLimit","formations","defenders","midfielders","forwards","positionMap","fetchActiveMatchweek","fetchAllMatchweeks","fetchTeams","fetchTeamPlayerLimit","fetchUserTeam","id","response","get","data","error","console","length","team_player_limit","team_name","is_active","fetchWeeklyScores","teamId","teamScore","fetchPlayers","url","params","URLSearchParams","trim","append","toString","filteredPlayers","positionType","startsWith","filter","player","position","selectedPlayerIds","Object","values","map","p","includes","timeoutId","setTimeout","clearTimeout","handleMatchweekChange","matchweekId","matchweek","find","mw","parseInt","handleFormationChange","newFormation","newPositions","updatedPlayers","keys","forEach","prev","handlePositionClick","handlePlayerSelect","isPlayerAlreadySelected","some","selectedPlayer","playersFromSameTeam","team_id","put","playerId","post","handleSaveTeam","getPositionIcon","getPositionName","getPlayerScore","playerScore","ps","score","parseFloat","total_points","isNaN","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","disabled","week","name","placeholder","form","onClick","pos","index","_userTeam$players","_userTeam$players2","first_name","last_name","toFixed","_userTeam$players3","_userTeam$players4","_userTeam$players5","_userTeam$players6","_userTeam$players7","_userTeam$players8","Date","calculated_at","toLocaleDateString","PlayerSelectionModal","onClose","onSelectPlayer","confirmText","_c","team","_c2","$RefreshReg$"],"sources":["C:/xampp/htdocs/TurquoiseFantasyFootball/frontend/src/components/TeamBuilder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Alert from './Alert';\n\nconst TeamBuilder = () => {\n  const [activeMatchweek, setActiveMatchweek] = useState(null);\n  const [allMatchweeks, setAllMatchweeks] = useState([]);\n  const [selectedMatchweek, setSelectedMatchweek] = useState(null);\n  const [userTeam, setUserTeam] = useState(null);\n  const [formation, setFormation] = useState('4-4-2');\n  const [teamName, setTeamName] = useState('');\n  const [showPlayerModal, setShowPlayerModal] = useState(false);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [teams, setTeams] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedTeam, setSelectedTeam] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [isViewMode, setIsViewMode] = useState(false);\n  const [weeklyScores, setWeeklyScores] = useState(null);\n  const [playerScores, setPlayerScores] = useState([]);\n  const [alert, setAlert] = useState({ isOpen: false, type: 'warning', title: '', message: '', secondaryMessage: '' });\n  const [teamPlayerLimit, setTeamPlayerLimit] = useState(3);\n\n  const formations = {\n    '4-4-2': { defenders: 4, midfielders: 4, forwards: 2 },\n    '4-5-1': { defenders: 4, midfielders: 5, forwards: 1 },\n    '4-3-3': { defenders: 4, midfielders: 3, forwards: 3 },\n    '5-3-2': { defenders: 5, midfielders: 3, forwards: 2 },\n    '5-4-1': { defenders: 5, midfielders: 4, forwards: 1 },\n    '3-4-3': { defenders: 3, midfielders: 4, forwards: 3 },\n    '3-5-2': { defenders: 3, midfielders: 5, forwards: 2 }\n  };\n\n  const positionMap = {\n    '4-4-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1', 'FWD2'],\n    '4-5-1': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'MID4', 'MID5', 'FWD1'],\n    '4-3-3': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'MID1', 'MID2', 'MID3', 'FWD1', 'FWD2', 'FWD3'],\n    '5-3-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'DEF5', 'MID1', 'MID2', 'MID3', 'FWD1', 'FWD2'],\n    '5-4-1': ['GK', 'DEF1', 'DEF2', 'DEF3', 'DEF4', 'DEF5', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1'],\n    '3-4-3': ['GK', 'DEF1', 'DEF2', 'DEF3', 'MID1', 'MID2', 'MID3', 'MID4', 'FWD1', 'FWD2', 'FWD3'],\n    '3-5-2': ['GK', 'DEF1', 'DEF2', 'DEF3', 'MID1', 'MID2', 'MID3', 'MID4', 'MID5', 'FWD1', 'FWD2']\n  };\n\n  useEffect(() => {\n    fetchActiveMatchweek();\n    fetchAllMatchweeks();\n    fetchTeams();\n    fetchTeamPlayerLimit();\n  }, []);\n\n  useEffect(() => {\n    if (selectedMatchweek) {\n      fetchUserTeam();\n      // Update view mode based on whether selected matchweek is active\n      setIsViewMode(selectedMatchweek.id !== activeMatchweek?.id);\n    } else {\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  }, [selectedMatchweek, activeMatchweek]);\n\n  const fetchActiveMatchweek = async () => {\n    try {\n      const response = await axios.get('/api/matchweeks/active');\n      setActiveMatchweek(response.data);\n      if (response.data) {\n        setSelectedMatchweek(response.data);\n        // View mode will be set automatically by useEffect\n      }\n    } catch (error) {\n      console.error('Error fetching active matchweek:', error);\n    }\n  };\n\n  const fetchAllMatchweeks = async () => {\n    try {\n      const response = await axios.get('/api/matchweeks');\n      setAllMatchweeks(response.data);\n      \n      // If no selected matchweek, select the first one\n      if (response.data.length > 0 && !selectedMatchweek) {\n        setSelectedMatchweek(response.data[0]);\n        // View mode will be set automatically by useEffect\n      }\n    } catch (error) {\n      console.error('Error fetching all matchweeks:', error);\n    }\n  };\n\n  const fetchTeams = async () => {\n    try {\n      const response = await axios.get('/api/teams');\n      setTeams(response.data);\n    } catch (error) {\n      console.error('Error fetching teams:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTeamPlayerLimit = async () => {\n    try {\n      const response = await axios.get('/api/scoring-system/team-limit');\n      setTeamPlayerLimit(response.data.team_player_limit);\n    } catch (error) {\n      console.error('Error fetching team player limit:', error);\n      // Set default value if API fails\n      setTeamPlayerLimit(3);\n    }\n  };\n\n  const fetchUserTeam = async () => {\n    if (!selectedMatchweek) {\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n      return;\n    }\n    \n    try {\n      const response = await axios.get(`/api/user-teams/${selectedMatchweek.id}`);\n      if (response.data) {\n        setUserTeam(response.data);\n        setFormation(response.data.formation);\n        setTeamName(response.data.team_name || '');\n        \n        // Fetch weekly scores if team exists and matchweek is not active\n        if (response.data.id && !selectedMatchweek.is_active) {\n          fetchWeeklyScores(response.data.id);\n        } else {\n          setWeeklyScores(null);\n          setPlayerScores([]);\n        }\n      } else {\n        setUserTeam(null);\n        setFormation('4-4-2');\n        setTeamName('');\n        setWeeklyScores(null);\n        setPlayerScores([]);\n      }\n    } catch (error) {\n      console.error('Error fetching user team:', error);\n      setUserTeam(null);\n      setFormation('4-4-2');\n      setTeamName('');\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  };\n\n  const fetchWeeklyScores = async (teamId) => {\n    if (!selectedMatchweek) {\n      setWeeklyScores(null);\n      setPlayerScores([]);\n      return;\n    }\n\n    try {\n      const response = await axios.get(`/api/user-teams/${teamId}/weekly-scores/${selectedMatchweek.id}`);\n      setWeeklyScores(response.data.teamScore);\n      setPlayerScores(response.data.playerScores);\n    } catch (error) {\n      console.error('Error fetching weekly scores:', error);\n      setWeeklyScores(null);\n      setPlayerScores([]);\n    }\n  };\n\n  const fetchPlayers = async () => {\n    if (!selectedMatchweek) return;\n    \n    try {\n      let url = '/api/players';\n      const params = new URLSearchParams();\n      \n      if (searchTerm && searchTerm.trim()) {\n        params.append('search', searchTerm.trim());\n      }\n      if (selectedTeam) {\n        params.append('team', selectedTeam);\n      }\n      \n      if (params.toString()) {\n        url += `?${params.toString()}`;\n      }\n      \n      const response = await axios.get(url);\n      \n      // Filter players based on position and already selected players\n      let filteredPlayers = response.data;\n      \n      // Filter by position\n      if (selectedPosition) {\n        const positionType = selectedPosition.startsWith('GK') ? 'Kaleci' :\n                            selectedPosition.startsWith('DEF') ? 'Defans' :\n                            selectedPosition.startsWith('MID') ? 'Orta Saha' : 'Forvet';\n        filteredPlayers = filteredPlayers.filter(player => player.position === positionType);\n      }\n      \n      // Filter out already selected players\n      const selectedPlayerIds = Object.values(userTeam?.players || {}).map(p => p.id);\n      filteredPlayers = filteredPlayers.filter(player => !selectedPlayerIds.includes(player.id));\n      \n      setPlayers(filteredPlayers);\n    } catch (error) {\n      console.error('Error fetching players:', error);\n    }\n  };\n\n  // Debounced search effect\n  useEffect(() => {\n    if (showPlayerModal && selectedMatchweek) {\n      const timeoutId = setTimeout(() => {\n        fetchPlayers();\n      }, searchTerm ? 300 : 0); // Debounce only when searching\n      return () => clearTimeout(timeoutId);\n    }\n  }, [showPlayerModal, searchTerm, selectedTeam, selectedPosition, userTeam, selectedMatchweek]);\n\n  const handleMatchweekChange = (matchweekId) => {\n    const matchweek = allMatchweeks.find(mw => mw.id === parseInt(matchweekId));\n    if (matchweek) {\n      setSelectedMatchweek(matchweek);\n      // View mode will be set automatically by useEffect\n    }\n  };\n\n  const handleFormationChange = (newFormation) => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n    \n    setFormation(newFormation);\n    if (userTeam) {\n      // Clear players that don't fit in new formation\n      const newPositions = positionMap[newFormation];\n      const updatedPlayers = { ...userTeam.players };\n      \n      Object.keys(updatedPlayers).forEach(position => {\n        if (!newPositions.includes(position)) {\n          delete updatedPlayers[position];\n        }\n      });\n      \n      setUserTeam(prev => ({\n        ...prev,\n        formation: newFormation,\n        players: updatedPlayers\n      }));\n    }\n  };\n\n  const handlePositionClick = (position) => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n\n    setSelectedPosition(position);\n    setShowPlayerModal(true);\n  };\n\n  const handlePlayerSelect = async (player) => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n\n    try {\n      // Check if player is already selected in another position\n      const isPlayerAlreadySelected = Object.values(userTeam?.players || {}).some(\n        selectedPlayer => selectedPlayer.id === player.id\n      );\n      \n      if (isPlayerAlreadySelected) {\n        setAlert({\n          isOpen: true,\n          type: 'warning',\n          title: 'Oyuncu Zaten SeÃ§ili',\n          message: 'Bu oyuncu zaten takÄ±mÄ±nÄ±zda seÃ§ili!',\n          secondaryMessage: 'AynÄ± oyuncuyu birden fazla pozisyonda kullanamazsÄ±nÄ±z.'\n        });\n        return;\n      }\n\n      // Check team player limit\n      const playersFromSameTeam = Object.values(userTeam?.players || {}).filter(\n        selectedPlayer => selectedPlayer.team_id === player.team_id\n      );\n      \n      if (playersFromSameTeam.length >= teamPlayerLimit) {\n        setAlert({\n          isOpen: true,\n          type: 'warning',\n          title: 'TakÄ±m Limiti AÅŸÄ±ldÄ±',\n          message: `Bu takÄ±mdan en fazla ${teamPlayerLimit} oyuncu seÃ§ebilirsiniz!`,\n          secondaryMessage: `Åžu anda ${playersFromSameTeam.length} oyuncu seÃ§ili.`\n        });\n        return;\n      }\n\n      // Check position compatibility\n      const positionType = selectedPosition.startsWith('GK') ? 'Kaleci' :\n                          selectedPosition.startsWith('DEF') ? 'Defans' :\n                          selectedPosition.startsWith('MID') ? 'Orta Saha' : 'Forvet';\n      \n      if (player.position !== positionType) {\n        setAlert({\n          isOpen: true,\n          type: 'error',\n          title: 'Pozisyon UyumsuzluÄŸu',\n          message: `${positionType} pozisyonu iÃ§in ${player.position} oyuncusu seÃ§ilemez!`,\n          secondaryMessage: 'LÃ¼tfen doÄŸru pozisyon iÃ§in uygun oyuncu seÃ§in.'\n        });\n        return;\n      }\n\n      if (userTeam && userTeam.id) {\n        // Update existing team\n        await axios.put(`/api/user-teams/${userTeam.id}/players`, {\n          position: selectedPosition,\n          playerId: player.id\n        });\n\n      // Update local state\n      setUserTeam(prev => ({\n        ...prev,\n        players: {\n          ...prev?.players,\n          [selectedPosition]: player\n        }\n      }));\n      } else {\n        // Create new team\n        const response = await axios.post('/api/user-teams', {\n          matchweekId: selectedMatchweek.id,\n          formation: formation,\n          teamName: teamName || 'TakÄ±mÄ±m',\n          position: selectedPosition,\n          playerId: player.id\n        });\n        \n        // Update local state with the new team data\n        setUserTeam({\n          ...response.data,\n          players: {\n            ...response.data.players,\n            [selectedPosition]: player\n          }\n        });\n      }\n\n      setShowPlayerModal(false);\n      setSelectedPosition(null);\n    } catch (error) {\n      console.error('Error selecting player:', error);\n      setAlert({\n        isOpen: true,\n        type: 'error',\n        title: 'Hata',\n        message: 'Oyuncu seÃ§ilirken hata oluÅŸtu',\n        secondaryMessage: 'LÃ¼tfen tekrar deneyin veya sayfayÄ± yenileyin.'\n      });\n    }\n  };\n\n  const handleSaveTeam = async () => {\n    if (isViewMode) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'UyarÄ±',\n        message: 'Sadece aktif haftada deÄŸiÅŸiklik yapabilirsiniz!',\n        secondaryMessage: 'GeÃ§miÅŸ haftalarÄ± sadece gÃ¶rÃ¼ntÃ¼leyebilirsiniz.'\n      });\n      return;\n    }\n\n    if (!selectedMatchweek) {\n      setAlert({\n        isOpen: true,\n        type: 'warning',\n        title: 'Hafta SeÃ§imi Gerekli',\n        message: 'LÃ¼tfen bir hafta seÃ§in!',\n        secondaryMessage: 'TakÄ±m kurmak iÃ§in Ã¶nce bir maÃ§ haftasÄ± seÃ§melisiniz.'\n      });\n      return;\n    }\n\n    try {\n      if (userTeam && userTeam.id) {\n        await axios.put(`/api/user-teams/${userTeam.id}`, {\n          teamName: teamName,\n          formation: formation\n        });\n      } else {\n        const response = await axios.post('/api/user-teams', {\n          matchweekId: selectedMatchweek.id,\n          formation: formation,\n          teamName: teamName || 'TakÄ±mÄ±m'\n        });\n        setUserTeam({ id: response.data.teamId, formation, team_name: teamName || 'TakÄ±mÄ±m', players: {} });\n      }\n\n      setAlert({\n        isOpen: true,\n        type: 'success',\n        title: 'BaÅŸarÄ±lÄ±',\n        message: 'TakÄ±m baÅŸarÄ±yla kaydedildi',\n        secondaryMessage: 'TakÄ±mÄ±nÄ±z gÃ¼ncellenmiÅŸtir.'\n      });\n    } catch (error) {\n      console.error('Error saving team:', error);\n      setAlert({\n        isOpen: true,\n        type: 'error',\n        title: 'Hata',\n        message: 'TakÄ±m kaydedilirken hata oluÅŸtu',\n        secondaryMessage: 'LÃ¼tfen tekrar deneyin veya sayfayÄ± yenileyin.'\n      });\n    }\n  };\n\n  const getPositionIcon = (position) => {\n    if (position.startsWith('GK')) return 'ðŸ¥…';\n    if (position.startsWith('DEF')) return 'ðŸ›¡ï¸';\n    if (position.startsWith('MID')) return 'âš½';\n    if (position.startsWith('FWD')) return 'ðŸŽ¯';\n    return 'ðŸ‘¤';\n  };\n\n  const getPositionName = (position) => {\n    if (position.startsWith('GK')) return 'Kaleci';\n    if (position.startsWith('DEF')) return 'Defans';\n    if (position.startsWith('MID')) return 'Orta Saha';\n    if (position.startsWith('FWD')) return 'Forvet';\n    return position;\n  };\n\n  const getPlayerScore = (playerId) => {\n    const playerScore = playerScores.find(ps => ps.id === playerId);\n    const score = playerScore ? parseFloat(playerScore.total_points) : 0;\n    return isNaN(score) ? 0 : score;\n  };\n\n  if (loading) {\n    return <div className=\"loading\">YÃ¼kleniyor...</div>;\n  }\n\n  if (!activeMatchweek && allMatchweeks.length === 0) {\n    return (\n      <div className=\"no-active-matchweek\">\n        <h3>MaÃ§ HaftasÄ± BulunamadÄ±</h3>\n        <p>HenÃ¼z hiÃ§ maÃ§ haftasÄ± oluÅŸturulmamÄ±ÅŸ. LÃ¼tfen admin panelinden bir maÃ§ haftasÄ± oluÅŸturun.</p>\n      </div>\n    );\n  }\n\n  if (!activeMatchweek && allMatchweeks.length > 0 && !selectedMatchweek) {\n    return (\n      <div className=\"no-active-matchweek\">\n        <h3>Aktif MaÃ§ HaftasÄ± Yok</h3>\n        <p>Åžu anda aktif bir maÃ§ haftasÄ± bulunmuyor. Ancak geÃ§miÅŸ haftalarÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz.</p>\n        \n        <div className=\"matchweek-selector\">\n          <label>Hafta SeÃ§in:</label>\n          <select \n            value={selectedMatchweek?.id || ''} \n            onChange={(e) => handleMatchweekChange(e.target.value)}\n            disabled={loading}\n          >\n            <option value=\"\">Hafta SeÃ§in</option>\n            {allMatchweeks.map(week => (\n              <option key={week.id} value={week.id}>\n                {week.name} {week.is_active ? '(Aktif)' : ''}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"team-builder\">\n      <div className=\"team-builder-header\">\n        <h2>TakÄ±m Kurma</h2>\n        <p className=\"team-builder-subtitle\">\n          {activeMatchweek \n            ? `Aktif hafta: ${activeMatchweek.name}` \n            : \"Aktif maÃ§ haftasÄ± yok. GeÃ§miÅŸ haftalarÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz.\"\n          }\n        </p>\n        \n      {/* Hafta SeÃ§imi */}\n      <div className=\"matchweek-selector\">\n        <h3>Hafta SeÃ§imi</h3>\n        <select \n          value={selectedMatchweek?.id || ''} \n          onChange={(e) => handleMatchweekChange(e.target.value)}\n          disabled={loading}\n        >\n          <option value=\"\">Hafta SeÃ§in</option>\n          {allMatchweeks.map(week => (\n            <option key={week.id} value={week.id}>\n              {week.name} {week.is_active ? '(Aktif)' : ''}\n            </option>\n          ))}\n        </select>\n        \n        {!activeMatchweek && selectedMatchweek && (\n          <div className=\"no-active-week-warning\">\n            Åžu anda aktif hafta yok â€” sadece gÃ¶rÃ¼ntÃ¼leme modu\n          </div>\n        )}\n      </div>\n\n      {/* TakÄ±m AdÄ± Input */}\n      {!isViewMode && (\n        <div className=\"team-name-input\">\n          <input\n            type=\"text\"\n            value={teamName}\n            onChange={(e) => setTeamName(e.target.value)}\n            placeholder=\"TakÄ±m adÄ± girin\"\n            disabled={!activeMatchweek}\n          />\n        </div>\n      )}\n\n      {/* GÃ¶rÃ¼ntÃ¼leme Modu UyarÄ±sÄ± */}\n      {isViewMode && (\n        <div className=\"view-mode-warning\">\n          Sadece GÃ¶rÃ¼ntÃ¼leme Modu\n        </div>\n      )}\n      </div>\n\n      <div className=\"formation-selector\">\n        <div><h3>Taktik SeÃ§imi :</h3></div>\n        <div className=\"formation-options\">\n          {Object.keys(formations).map(form => (\n            <button\n              key={form}\n              className={`formation-btn ${formation === form ? 'active' : ''} ${isViewMode ? 'disabled' : ''}`}\n              onClick={() => handleFormationChange(form)}\n              disabled={isViewMode}\n            >\n              {form}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"field-container\">\n        <div className=\"football-field\">\n          <div className=\"field-positions\">\n            {/* Kaleci */}\n            <div className=\"field-position-group goalkeeper\">\n              {positionMap[formation].filter(pos => pos.startsWith('GK')).map((position, index) => (\n                <div\n                  key={position}\n                  className={`field-position ${position} ${userTeam?.players?.[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`}\n                  onClick={() => handlePositionClick(position)}\n                >\n                  {userTeam?.players?.[position] ? (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">sports</span>\n                      <div className=\"player-info\">\n                        <span className=\"player-name\">\n                          {userTeam.players[position].first_name} {userTeam.players[position].last_name}\n                        </span>\n                        <span className=\"player-team\">{userTeam.players[position].team_name}</span>\n                        {weeklyScores && (\n                          <span className=\"player-score\">\n                            {getPlayerScore(userTeam.players[position].id).toFixed(1)} puan\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">sports</span>\n                      <span className=\"position-label\">Kaleci</span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Defanslar */}\n            <div className=\"field-position-group defenders\">\n              {positionMap[formation].filter(pos => pos.startsWith('DEF')).map((position, index) => (\n                <div\n                  key={position}\n                  className={`field-position ${position} ${userTeam?.players?.[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`}\n                  onClick={() => handlePositionClick(position)}\n                >\n                  {userTeam?.players?.[position] ? (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">shield</span>\n                      <div className=\"player-info\">\n                        <span className=\"player-name\">\n                          {userTeam.players[position].first_name} {userTeam.players[position].last_name}\n                        </span>\n                        <span className=\"player-team\">{userTeam.players[position].team_name}</span>\n                        {weeklyScores && (\n                          <span className=\"player-score\">\n                            {getPlayerScore(userTeam.players[position].id).toFixed(1)} puan\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">shield</span>\n                      <span className=\"position-label\">Defans</span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Orta Saha */}\n            <div className=\"field-position-group midfielders\">\n              {positionMap[formation].filter(pos => pos.startsWith('MID')).map((position, index) => (\n                <div\n                  key={position}\n                  className={`field-position ${position} ${userTeam?.players?.[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`}\n                  onClick={() => handlePositionClick(position)}\n                >\n                  {userTeam?.players?.[position] ? (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">groups</span>\n                      <div className=\"player-info\">\n                        <span className=\"player-name\">\n                          {userTeam.players[position].first_name} {userTeam.players[position].last_name}\n                        </span>\n                        <span className=\"player-team\">{userTeam.players[position].team_name}</span>\n                        {weeklyScores && (\n                          <span className=\"player-score\">\n                            {getPlayerScore(userTeam.players[position].id).toFixed(1)} puan\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">groups</span>\n                      <span className=\"position-label\">Orta Saha</span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Forvetler */}\n            <div className=\"field-position-group forwards\">\n              {positionMap[formation].filter(pos => pos.startsWith('FWD')).map((position, index) => (\n              <div\n                key={position}\n                  className={`field-position ${position} ${userTeam?.players?.[position] ? 'filled' : 'empty'} ${isViewMode ? 'view-mode' : ''}`}\n                onClick={() => handlePositionClick(position)}\n              >\n                {userTeam?.players?.[position] ? (\n                  <div className=\"player-card\">\n                      <span className=\"material-icons\">directions_run</span>\n                    <div className=\"player-info\">\n                      <span className=\"player-name\">\n                        {userTeam.players[position].first_name} {userTeam.players[position].last_name}\n                      </span>\n                      <span className=\"player-team\">{userTeam.players[position].team_name}</span>\n                        {weeklyScores && (\n                          <span className=\"player-score\">\n                            {getPlayerScore(userTeam.players[position].id).toFixed(1)} puan\n                          </span>\n                        )}\n                    </div>\n                  </div>\n                ) : (\n                    <div className=\"player-card\">\n                      <span className=\"material-icons\">directions_run</span>\n                      <span className=\"position-label\">Forvet</span>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n        </div>\n        \n        {weeklyScores && (\n          <div className=\"weekly-score-panel\">\n            <h3>HaftalÄ±k Puan</h3>\n            <div className=\"total-score\">\n              <span className=\"score-value\">{parseFloat(weeklyScores.total_points || 0).toFixed(1)}</span>\n              <span className=\"score-label\">puan</span>\n            </div>\n            <div className=\"score-details\">\n              <p>Hesaplanma Tarihi:</p>\n              <p>{new Date(weeklyScores.calculated_at).toLocaleDateString('tr-TR')}</p>\n            </div>\n          </div>\n        )}\n        \n      </div>\n\n      <div className=\"team-actions\">\n        <button \n          className={`btn btn-primary ${isViewMode ? 'disabled' : ''}`} \n          onClick={handleSaveTeam}\n          disabled={isViewMode}\n        >\n          {isViewMode ? 'Sadece GÃ¶rÃ¼ntÃ¼leme Modu' : 'TakÄ±mÄ± Kaydet'}\n        </button>\n      </div>\n\n      {/* Player Selection Modal */}\n      {showPlayerModal && (\n        <PlayerSelectionModal\n          onClose={() => {\n            setShowPlayerModal(false);\n            setSelectedPosition(null);\n            setSearchTerm('');\n            setSelectedTeam('');\n          }}\n          onSelectPlayer={handlePlayerSelect}\n          players={players}\n          teams={teams}\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          selectedTeam={selectedTeam}\n          setSelectedTeam={setSelectedTeam}\n          selectedPosition={selectedPosition}\n          getPositionName={getPositionName}\n        />\n      )}\n      \n      {/* Alert Component */}\n      <Alert\n        isOpen={alert.isOpen}\n        onClose={() => setAlert({ ...alert, isOpen: false })}\n        type={alert.type}\n        title={alert.title}\n        message={alert.message}\n        secondaryMessage={alert.secondaryMessage}\n        confirmText=\"Tamam\"\n      />\n    </div>\n  );\n};\n\n// Player Selection Modal Component\nconst PlayerSelectionModal = ({ \n  onClose, \n  onSelectPlayer, \n  players, \n  teams, \n  searchTerm, \n  setSearchTerm, \n  selectedTeam, \n  setSelectedTeam,\n  selectedPosition,\n  getPositionName\n}) => {\n  const getPositionIcon = (position) => {\n    if (position === 'Kaleci') return 'sports';\n    if (position === 'Defans') return 'shield';\n    if (position === 'Orta Saha') return 'groups';\n    if (position === 'Forvet') return 'directions_run';\n    return 'person';\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"player-selection-modal\">\n        <div className=\"modal-header\">\n          <h3>Oyuncu SeÃ§ - {selectedPosition ? getPositionName(selectedPosition) : ''}</h3>\n          <button className=\"close-btn\" onClick={onClose}>\n            <span className=\"material-icons\">close</span>\n          </button>\n        </div>\n\n          <div className=\"search-filters\">\n            <div className=\"search-input\">\n            <span className=\"material-icons\">search</span>\n              <input\n                type=\"text\"\n                placeholder=\"Oyuncu adÄ± ara...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            \n            <div className=\"team-filter\">\n              <select\n                value={selectedTeam}\n                onChange={(e) => setSelectedTeam(e.target.value)}\n              >\n                <option value=\"\">TÃ¼m TakÄ±mlar</option>\n                {teams.map(team => (\n                  <option key={team.id} value={team.id}>{team.name}</option>\n                ))}\n              </select>\n            <span className=\"material-icons\">expand_more</span>\n            </div>\n          </div>\n\n          <div className=\"players-list\">\n          {players.length === 0 ? (\n            <div className=\"no-players\">\n              <p>Bu pozisyon iÃ§in uygun oyuncu bulunamadÄ±.</p>\n              <p>SeÃ§ilmiÅŸ oyuncular ve yanlÄ±ÅŸ pozisyon oyuncularÄ± filtrelenmiÅŸtir.</p>\n            </div>\n          ) : (\n            players.map(player => (\n              <div\n                key={player.id}\n                className=\"player-item\"\n                onClick={() => onSelectPlayer(player)}\n              >\n                <span className=\"material-icons\">{getPositionIcon(player.position)}</span>\n                <div className=\"player-info\">\n                  <span className=\"player-name\">{player.first_name} {player.last_name}</span>\n                  <span className=\"player-details\">{player.team_name} - {player.position}</span>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TeamBuilder;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}